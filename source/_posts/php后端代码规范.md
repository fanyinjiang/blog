---
title: PHP基本代码规范
categories: 
- PHP
tags:
- php
---

# 基本代码规范
## 文件
> * PHP 代码中 `必须` 使用 `<?php ?>` 或者 `<?= ?>`，而不可使用其他标签
> * 所有的 PHP 文件 `必须` 使用 `Unix LF` (换行)作为行结束符
> * 只有 PHP 代码的文件关闭标签 `?>` `必须` 省略
> * PHP 代码 `必须` 使用 `UTF-8 without BOM` 编码
> * 建议每行代码字符数保持在80个以内，理论上不可多于120个，但不做硬性限制

## 命名
> * 命名空间 `Namespace` 和类 `class` `必须` 遵循"autoloading" PSR标准: [PSR0,PSR-4].
> * 类名（`class`）`必须` 使用大驼峰命名法，如 `StudlyCaps`
> * 类中的常量 `必须` 只能用 `大写字母` 和 `_` 来命名
> * 类中的属性 `必须` 使用驼峰命名法，如 `$camelCase`
> * 方法名（`method`）`必须` 使用驼峰命名法，如 `camelCase`
> * PHP 的关键词 `keywords` `必须` 用小写,PHP 中的常量 `true`，`false`，`null` `必须` 全部小写

## 缩进,换行
> * 代码 `必须` 使用 `4个空格` 的缩进，而不是制表符 `tab`,遇到 { 应该进行一次缩进
> * 在 `namespace` 声明下面 `必须` 有一个空行，并且 `use` 声明代码块下面也必须有一个空行
> * 类开始的花括号 `必须` 放到下一行，结束花括号 `必须` 放在主体的下一行
> * 方法和控制结构（译者注：`for`，`while` 等）开始花括号 `必须` 放在同一行，结束花括号 `必须` 放在控制主体的下一行
> * 空行 可以 用来改善可读性和区分相关的代码块,方法与方法之间必须有空行,适当的地方可以添加空行

## 空格
> * 当进行函数或方法调用的时候，在方法或者函数名与左括号之间 `不可` 有空格，左括号之后 `不可` 有空格，右括号之前 `不可` 有空格,
> * 参数列表中，逗号之前 `不可` 有空格，
> * $i++ 这种完整体不可有空格
> * 语句结束 `;` 不可有空格
> * 其他情况: `=` , 关键词 与 大括号之间,都应该有空格

## 代码过长的换行问题
> * 当代码超过80行,建议换行,如参数列表,保留句尾的逗号,下一个参数直接换行,与第一列参数缩4个空格
> * 多条件 && 作为下一行开始


## 其他
> * 所有的属性 必须 显式声明可见性,一个语句 不可 声明多个属性
> * 所有的方法 必须 显式声明可见性,`abstract` 和 `final` 声明必须在显式声明可见性之前，`static` 声明必须在显式声明可见性之后,final public static function
> * 所有变量的声明必须显示初始化

### 代码示例

```
switch ($expr) {
    case 0:
        echo 'First case, with a break';
        break;
    case 1:
        echo 'Second case, which falls through';
        // no break
    case 2:
    case 3:
    case 4:
        echo 'Third case, return instead of break';
        return;
    default:
        echo 'Default case';
        break;
}
```








