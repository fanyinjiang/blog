---
title: 镜像发布
categories: 
- 上线
tags:
- images
---


## 测试,上版制度
### web端的测试
1. 主要在二刀环境进行测试
2. 三刀除了进行功能测试,还需要进行回归测试
3. 大的改动一定要提前进行测试,如果存在数据恢复的问题,需要提前进行演练

### 客户端的测试
1. 客户端包括电脑端+移动端，上版本之前的测试阶段分为三步，依次是：技术部内测、公司全部门内测、分时间段公测。其中技术部内测，需将测试包发给产品助理以及上传测试平台testin进行测试。
2. 安卓和IOS工程师需获取全部APP下载人群所使用的手机版本，根据数据来决定最低兼容的手机系统版本号

### 上版时间规定
所有系统的更新上版时间不能在周末节假日前一天，不能在订单高峰期时间。严格控制在早上10点以前，下午4点以前，超过规定时间则不予更新，十分紧急情况除外。

### 上版代码管理情况
1. 一般分为dev,release,master分支
2. 上版使用release分支，一定要实际在三刀测试release分支，最后推送到master分支前，需要对release分支打上tag
3. 上版以后要观察日志


### 关于二刀测试环境与三刀预上线环境说明

### 二刀环境 

完全搭建一套独立环境,使用独立数据库,独立队列,完全模拟整个平台的运行

数据库 xx_test
队列  xx_test 


### 三刀预上线环境

使用生产环境数据库 

使用独立队列








